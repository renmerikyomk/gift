<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>贈り物貯蓄計算</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            position: relative;
        }

        h1 {
            font-size: 25px;
            text-align: center;
            margin-bottom: 20px;
        }

        .filed {
            margin-bottom: 15px;
        }

        .filed label {
            display: block;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .day {
            display: flex;
        }

        input[type="date"] {
            padding: 3px;
            font-size: 15px;
        }

        .use-money label {
            display: block;
        }

        button {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            background-color: #0075c2;
            color: #ffffff;
            border: none;
            cursor: pointer;
            
        }

        button:hover {
            background-color: #0000a0;
        }

        #result {
            margin-top: 10px;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
        }

    </style>
</head>

<body>
    <div class="container">
        <h1>贈り物貯蓄計算</h1>
        <div class="filed">
            <label>貯める期間</label>
            <div class="day">
                <input type="date" id="start-date">
                <span>～</span>
                <input type="date" id="end-date">
            </div>
        </div>
        <div class="filed">
            <label>課金の有無</label>
            <div class="use-money">
                <label>
                    <input type="checkbox" id="gift">
                    月一贈り物パック
                </label>
                <label>
                    <input type="checkbox" id="craft">
                    月一製造パック
                </label>
            </div>
        </div>
        <div class="filed">
            <label>イベント等</label>
            <div class="use-money">
                <label>
                    <input type="checkbox" id="24~">
                    制約解除決戦(24~)
                    <input type="checkbox" id="event-shop">
                    イベント
                </label>
                <label>
                    <input type="checkbox" id="49~">
                    〃(49~)
                    　　　　　<input type="checkbox" id="gouka">
                    合同火力演習
                </label>
                <label>
                    <input type="checkbox" id="74~">
                    〃(74~)
                    　　　　　<input type="checkbox" id="sou">
                    総力戦
                </label>
                <label>
                    <input type="checkbox" id="99~">
                    〃(99~)
                    　　　　　<input type="checkbox" id="dai">
                    大決戦
                </label>
                <label>
                    <input type="checkbox" id="118~">
                    〃(118~)
                </label>
            </div>
        </div>
        <button onclick="func()">計算</button>
        <div id="result"></div>
    </div>
    <script>
        function func() {
            const start = new Date(document.getElementById("start-date").value);
            const end = new Date(document.getElementById("end-date").value);

            let day = 0;
            let week = 0;
            let month = 0;
            if (!isNaN(start) && !isNaN(end)) {
                const diff = end - start;
                month = (end.getFullYear() - start.getFullYear()) * 12 + (end.getMonth() - start.getMonth());
                day = Math.max(0, Math.floor(diff / (1000 * 60 * 60 * 24)));
                week = day / 7
            }

            const gift = document.getElementById("gift").checked;
            const craft = document.getElementById("craft").checked;
            const event = document.getElementById("event-shop").checked;
            const gouka = document.getElementById("gouka").checked;
            const sou = document.getElementById("sou").checked;
            const dai= document.getElementById("dai").checked;
            const seiyaku24 = document.getElementById("24~").checked;
            const seiyaku49 = document.getElementById("49~").checked;
            const seiyaku74 = document.getElementById("74~").checked;
            const seiyaku99 = document.getElementById("99~").checked;
            const seiyaku118 = document.getElementById("118~").checked;

            let monthly = 0;
            
            if (gift) monthly += 620;
            if (craft) monthly += 900;
            if (event) monthly += 1040;
            if (gouka) monthly += 1000;
            if (sou) monthly += 120;
            if (dai) monthly += 360;
            if (seiyaku118) monthly += 1840;
            else if (seiyaku99) monthly += 1120;
            else if (seiyaku74) monthly += 760;
            else if (seiyaku49) monthly += 360;
            else if (seiyaku24) monthly += 120;

            const bond = day * 2 + week * 3 + month * monthly;

            const bond_list = {
                1: [15, 0],
                2: [30, 15],
                3: [30, 45],
                4: [35, 75],
                5: [35, 110],
                6: [35, 145],
                7: [40, 180],
                8: [40, 220],
                9: [40, 260],
                10: [60, 300],
                11: [90, 360],
                12: [105, 450],
                13: [120, 555],
                14: [140, 675],
                15: [160, 815],
                16: [180, 975],
                17: [205, 1155],
                18: [230, 1360],
                19: [255, 1590],
                20: [285, 1845],
                21: [315, 2130],
                22: [345, 2445],
                23: [375, 2790],
                24: [410, 3165],
                25: [445, 3575],
                26: [480, 4020],
                27: [520, 4500],
                28: [560, 5020],
                29: [600, 5580],
                30: [645, 6180],
                31: [690, 6825],
                32: [735, 7515],
                33: [780, 8250],
                34: [830, 9030],
                35: [880, 9860],
                36: [930, 10740],
                37: [985, 11670],
                38: [1040, 12655],
                39: [1095, 13695],
                40: [1155, 14790],
                41: [1215, 15945],
                42: [1275, 17160],
                43: [1335, 18435],
                44: [1400, 19770],
                45: [1465, 21170],
                46: [1530, 22635],
                47: [1600, 24165],
                48: [1670, 25765],
                49: [1740, 27435],
                50: [1815, 29175],
                51: [1890, 30990],
                52: [1965, 32880],
                53: [2040, 34845],
                54: [2120, 36885],
                55: [2200, 39005],
                56: [2280, 41205],
                57: [2365, 43485],
                58: [2450, 45850],
                59: [2535, 48300],
                60: [2625, 50835],
                61: [2715, 53460],
                62: [2805, 56175],
                63: [2895, 58980],
                64: [2990, 61875],
                65: [3085, 64865],
                66: [3180, 67950],
                67: [3280, 71130],
                68: [3380, 74410],
                69: [3480, 77790],
                70: [3585, 81270],
                71: [3690, 84855],
                72: [3795, 88545],
                73: [3900, 92340],
                74: [4010, 96240],
                75: [4120, 100250],
                76: [4230, 104370],
                77: [4345, 108600],
                78: [4460, 112945],
                79: [4575, 117405],
                80: [4695, 121980],
                81: [4815, 126675],
                82: [4935, 131490],
                83: [5055, 136425],
                84: [5180, 141480],
                85: [5305, 146660],
                86: [5430, 151965],
                87: [5560, 157395],
                88: [5690, 162955],
                89: [5820, 168645],
                90: [5955, 174465],
                91: [6090, 180420],
                92: [6225, 186510],
                93: [6360, 192735],
                94: [6500, 199095],
                95: [6640, 205595],
                96: [6780, 212235],
                97: [6925, 219015],
                98: [7070, 225940],
                99: [7215, 233010],
                100: [7365, 240225]
            };

            let bond_level = 0;
            
            for(i = 1; i<101; i++){
                if (bond_list[i][1] < bond) bond_level += 1;
            }
            const gift_big = Math.floor(bond / 60);

            document.getElementById("result").innerText = "貯まる贈り物は絆" + bond_level + "程度 \n上級贈り物大換算" + gift_big + "個程度" 

        }
    </script>
</body>
</html>